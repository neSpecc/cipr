{"version":3,"sources":["webpack://SpeccSpecial/webpack/universalModuleDefinition","webpack://SpeccSpecial/webpack/bootstrap","webpack://SpeccSpecial/./node_modules/@codexteam/ajax/dist/main.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/button.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/config.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/dom.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/factory.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/fetch.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/index.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/service.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/email.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/facebook.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/gplus.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/index.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/more.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/odnoklassniki.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/pocket.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/telegram.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/twitter.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/viber.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/vk.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/services/whatsapp.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/storage.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/utils.js","webpack://SpeccSpecial/./node_modules/cmtt-likely/source/widget.js","webpack://SpeccSpecial/./src/css/app.pcss","webpack://SpeccSpecial/./src/js/auth.js","webpack://SpeccSpecial/./src/js/base.js","webpack://SpeccSpecial/./src/js/config.js","webpack://SpeccSpecial/./src/js/data.js","webpack://SpeccSpecial/./src/js/index.js","webpack://SpeccSpecial/./src/js/lib/analytics.js","webpack://SpeccSpecial/./src/js/lib/array.js","webpack://SpeccSpecial/./src/js/lib/check.js","webpack://SpeccSpecial/./src/js/lib/dom.js","webpack://SpeccSpecial/./src/js/lib/helper.js","webpack://SpeccSpecial/./src/js/lib/preloader.js","webpack://SpeccSpecial/./src/js/lib/share.js","webpack://SpeccSpecial/./src/js/special.js","webpack://SpeccSpecial/./src/js/svg.js"],"names":["Auth","url","callback","window","addEventListener","storageChangeHandler","open","left","screen","width","top","height","localStorage","removeItem","console","log","parseInt","logged_in","auth_error","BaseSpecial","params","container","analyticsCategory","sendPageview","listenedEvents","listenedKeys","keyCodes","enter","preloader","Preloader","addEventListeners","path","Promise","resolve","link","document","createElement","rel","href","onload","body","appendChild","forEach","eventName","event","defaultEventHandler","length","key","keyCode","code","action","el","target","dataset","tagName","toLowerCase","Analytics","sendEvent","parentNode","module","exports","name","title","task","intro","introduction","tabs","tab","label","content","conclusion","outro","logoUrl","promoUrl","CTAText","questions","id","text","image","options","results","range","Special","require","Config","CONSOLE_STYLE","sendPageView","dataLayer","undefined","push","section","tags","location","pathname","getMostFrequentValue","array","result","sort","a","b","filter","v","pop","shuffle","j","x","i","Math","floor","random","toArray","nodeList","Array","prototype","slice","call","BREAKPOINTS","mobile","isMobile","matchMedia","matches","make","classNames","attributes","element","isArray","classList","add","attr","dataAttributes","cacheElements","obj","newObj","elements","querySelectorAll","getSiblings","siblings","sibling","firstChild","nextSibling","nodeType","removeChildren","parent","removeChild","removeElement","htmlStringToNode","html","innerHTML","prepend","insertBefore","replace","another","replaceChild","preloadImages","urls","Image","src","declineWord","number","words","indexOf","formatNumber","string","toString","scrollToElement","offset","y","getBoundingClientRect","scrollY","pageYOffset","scroll","copyToClipboard","input","isSuccess","style","position","opacity","value","select","execCommand","e","images","loadOne","time","timeEnd","onerror","warn","CSS","likely","likelyCustom","state","hidden","init","Likely","initate","create","parentContainer","set","likelyContainer","socials","social","button","textContent","twitter","CONFIG","css","staticURL","nodes","wrapper","header","counter","headerMenu","headerMenuTabs","mainText","optionsItems","actions","resultsButton","popup","popupContainer","setDefaultValues","activeIndex","totalLength","DATA","userPoints","isPending","saveParams","loadStyles","then","render","headerLogo","headerMenuButton","data","click","tabContainer","contentHidden","makeIntro","tabIndex","keydownHandler","activateTab","updateMode","articleUrl","introText","makeActionButton","ajax","get","apiEndpoint","response","rc","showAuth","active_question","makeIntroduction","func","additionalCSS","buttonStyle","type","mode","makeQuestion","Error","remove","optionsDisabled","updateCounter","makeQuestionOptions","option","item","optionsItem","btn","optionsItemSelected","selectedItem","find","contains","buttonDisabled","optionsItemLoading","question","answer","isCorrect","optionsItemCorrect","optionsItemError","buttonSecond","makeOptionMessage","message","actionsDisclaimer","catch","error","messageEl","optionsMessage","findResult","resultContent","resultActions","Share","share","SVG","trophy","finalResult","toggle","headerMenuButtonActive","back","table","resultsTable","users","points","user","index","showPopup","auth","authButtons","checkUserState","popupClose","popupShowed","start","makeResult","substring","resultButton"],"mappings":"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wBAAwB,WAAW,uBAAuB,SAAS,gCAAgC,UAAU,4EAA4E,KAAK,kBAAkB,yCAAyC,mBAAmB,WAAW,oEAAoE,SAAS,sCAAsC,YAAY,GAAG,E;;;;;;;;;;;ACA1wb,eAAe,mBAAO,CAAC,uEAAY;AACnC,aAAa,mBAAO,CAAC,6DAAU;AAC/B,YAAY,mBAAO,CAAC,2DAAS;AAC7B,YAAY,mBAAO,CAAC,2DAAS;AAC7B,UAAU,mBAAO,CAAC,uDAAO;AACzB,cAAc,mBAAO,CAAC,+DAAW;;AAEjC,8BAA8B,UAAU,GAAG,QAAQ;;AAEnD;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA,gDAAgD,mBAAmB;AACnE;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,oBAAoB;AAC/C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AC3QA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;ACbA,aAAa,mBAAO,CAAC,6DAAU;;AAE/B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AAC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AChB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA,uBAAuB,sBAAsB;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA,4CAA4C,KAAK,KAAK;AACtD;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;;AAEA,uB;;;;;;;;;;;AChNA,aAAa,mBAAO,CAAC,6DAAU;;AAE/B,eAAe,mBAAO,CAAC,uEAAY;AACnC,eAAe,mBAAO,CAAC,6DAAU;AA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","file":"all.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SpeccSpecial\"] = factory();\n\telse\n\t\troot[\"SpeccSpecial\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.ajax=t():e.ajax=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=3)}([function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";(function(e){var r=n(2),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}c(t.promise,r)}else(1===e._state?c:s)(t.promise,e._value)})):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void f(e);if(\"function\"==typeof n)return void l(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return u(this,new function(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a(function(t,n){if(!e||void 0===e.length)throw new TypeError(\"Promise.all accepts an array\");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var u=a.then;if(\"function\"==typeof u)return void u.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},a.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},a._immediateFn=\"function\"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)},t.a=a}).call(this,n(5).setImmediate)},function(e,t,n){\"use strict\";t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t,n){\"use strict\";function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}n(4);var o=n(8),i=function(){var e={URLENCODED:\"application/x-www-form-urlencoded; charset=utf-8\",FORM:\"multipart/form-data\",JSON:\"application/json; charset=utf-8\"},t=function(e){return new Promise(function(t,n){e=a(e),e=u(e);var r=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\");r.open(e.method,e.url),r.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),Object.keys(e.headers).forEach(function(t){var n=e.headers[t];r.setRequestHeader(t,n)});var o=e.ratio;r.upload.addEventListener(\"progress\",function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*o/100);e.progress(r)},!1),r.addEventListener(\"progress\",function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*(100-o)/100)+o;e.progress(r)},!1),r.onreadystatechange=function(){if(4===r.readyState){var e=r.response;try{e=JSON.parse(e)}catch(e){}200===r.status?t(e):n(e)}},r.send(e.data)})},n=function(e){return e.method=\"POST\",t(e)},a=function(t){if(!t.url||\"string\"!=typeof t.url)throw new Error(\"Url must be a non-empty string\");if(t.method&&\"string\"!=typeof t.method)throw new Error(\"`method` must be a string or null\");if(t.method=t.method?t.method.toUpperCase():\"GET\",t.headers&&\"object\"!==r(t.headers))throw new Error(\"`headers` must be an object or null\");if(t.headers=t.headers||{},t.type&&(\"string\"!=typeof t.type||!Object.values(e).includes(t.type)))throw new Error(\"`type` must be taken from module's «contentType» library\");if(t.progress&&\"function\"!=typeof t.progress)throw new Error(\"`progress` must be a function or null\");if(t.progress=t.progress||function(e){},t.beforeSend=t.beforeSend||function(e){},t.ratio&&\"number\"!=typeof t.ratio)throw new Error(\"`ratio` must be a number\");if(t.ratio<0||t.ratio>100)throw new Error(\"`ratio` must be in a 0-100 interval\");if(t.ratio=t.ratio||90,t.accept&&\"string\"!=typeof t.accept)throw new Error(\"`accept` must be a string with a list of allowed mime-types\");if(t.accept=t.accept||\"*/*\",t.multiple&&\"boolean\"!=typeof t.multiple)throw new Error(\"`multiple` must be a true or false\");if(t.multiple=t.multiple||!1,t.fieldName&&\"string\"!=typeof t.fieldName)throw new Error(\"`fieldName` must be a string\");return t.fieldName=t.fieldName||\"files\",t},u=function(t){switch(t.method){case\"GET\":var n=c(t.data,e.URLENCODED);delete t.data,t.url=/\\?/.test(t.url)?t.url+\"&\"+n:t.url+\"?\"+n;break;case\"POST\":case\"PUT\":case\"DELETE\":case\"UPDATE\":var r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||e.JSON}(t);(o.isFormData(t.data)||o.isFormElement(t.data))&&(r=e.FORM),t.data=c(t.data,r),r!==i.contentType.FORM&&(t.headers[\"content-type\"]=r)}return t},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case e.URLENCODED:return o.urlEncode(t);case e.JSON:return o.jsonEncode(t);case e.FORM:return o.formEncode(t);default:return t}};return{contentType:e,request:t,get:function(e){return e.method=\"GET\",t(e)},post:n,transport:function(e){return e=a(e),o.transport(e).then(function(t){return o.isObject(e.data)&&Object.keys(e.data).forEach(function(n){var r=e.data[n];t.append(n,r)}),e.data=t,n(e)})}}}();e.exports=i},function(e,t,n){\"use strict\";n.r(t);var r=n(1);window.Promise=window.Promise||r.a},function(e,t,n){(function(e){var r=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(6),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){\"use strict\";if(!e.setImmediate){var r,o=1,i={},a=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,\"[object process]\"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=n,t}}()?function(){var t=\"setImmediate$\"+Math.random()+\"$\",n=function(n){n.source===e&&\"string\"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener(\"message\",n,!1):e.attachEvent(\"onmessage\",n),r=function(n){e.postMessage(t+n,\"*\")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&\"onreadystatechange\"in u.createElement(\"script\")?function(){var e=u.documentElement;r=function(t){var n=u.createElement(\"script\");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(f,0,e)},c.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},c.clearImmediate=s}function s(e){delete i[e]}function f(e){if(a)setTimeout(f,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{s(e),a=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(7))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(e){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:\"urlEncode\",value:function(e){return o(e)}},{key:\"jsonEncode\",value:function(e){return JSON.stringify(e)}},{key:\"formEncode\",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach(function(n){var r=e[n];t.append(n,r)}),t}throw new Error(\"`data` must be an instance of Object, FormData or <FORM> HTMLElement\")}},{key:\"isObject\",value:function(e){return\"[object Object]\"===Object.prototype.toString.call(e)}},{key:\"isFormData\",value:function(e){return e instanceof FormData}},{key:\"isFormElement\",value:function(e){return e instanceof HTMLFormElement}},{key:\"transport\",value:function(e){return new Promise(function(t,n){var r=document.createElement(\"INPUT\");r.type=\"file\",e.multiple&&r.setAttribute(\"multiple\",\"multiple\"),e.accept&&r.setAttribute(\"accept\",e.accept),r.addEventListener(\"change\",function(n){for(var r=n.target.files,o=new FormData,i=0;i<r.length;i++)o.append(e.fieldName,r[i],r[i].name);e.beforeSend(r),t(o)},!1),r.click()})}}]),e}()},function(e,t){var n=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,\"+\")},r=function(e,t,o,i){return t=t||null,o=o||\"&\",i=i||null,e?function(e){for(var t=new Array,n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}(Object.keys(e).map(function(a){var u,c=a;if(i&&(c=i+\"[\"+c+\"]\"),\"object\"==typeof e[a]&&null!==e[a])u=r(e[a],null,o,c);else{t&&(c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(c)?t+Number(c):c);var s=e[a];s=(s=0===(s=!1===(s=!0===s?\"1\":s)?\"0\":s)?\"0\":s)||\"\",u=n(c)+\"=\"+n(s)}return u})).join(o).replace(/[!'()*]/g,\"\"):\"\"};e.exports=r}])});","var services = require('./services'),\r\n    config = require('./config'),\r\n    fetch = require('./fetch'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom'),\r\n    storage = require('./storage');\r\n\r\nvar htmlSpan = '<span class=\"{className}\">{content}</span>';\r\n\r\n/**\r\n * Separate social link widget\r\n *\r\n * @param {Node} widget\r\n * @param {Likely} likely\r\n * @param {Object} options\r\n */\r\nfunction LikelyButton (widget, likely, options) {\r\n    this.widget  = widget;\r\n    this.likely  = likely;\r\n    this.options = utils.merge(options);\r\n\r\n    this.init();\r\n}\r\n\r\nLikelyButton.prototype = {\r\n    /**\r\n     * Initiate the button\r\n     */\r\n    init: function () {\r\n        this.detectService();\r\n        this.detectParams();\r\n\r\n        if (this.service) {\r\n            this.initHtml();\r\n\r\n            setTimeout(this.initCounter.bind(this), 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update the counter\r\n     *\r\n     * @param {Object} options\r\n     */\r\n    update: function (options) {\r\n        var className = '.' + config.prefix + 'counter';\r\n            counters  = dom.findAll(className, this.widget);\r\n\r\n        utils.extend(this.options, utils.merge({forceUpdate: false}, options));\r\n        utils.toArray(counters).forEach(function (node) {\r\n            node.parentNode.removeChild(node);\r\n        });\r\n\r\n        this.initCounter();\r\n    },\r\n\r\n    /**\r\n     * Get the config.name of service and its options\r\n     */\r\n    detectService: function () {\r\n        var widget  = this.widget,\r\n            service = utils.getDataset(widget).service;\r\n\r\n        if (!service) {\r\n            var classes = widget.className.split(' ');\r\n\r\n            for (var i = 0; i < classes.length; i++) {\r\n                if (classes[i] in services) break;\r\n            }\r\n\r\n            service = classes[i];\r\n        }\r\n\r\n        if (service) {\r\n            this.service = service;\r\n\r\n            utils.extend(this.options, services[service]);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Merge params from data-* attributes into options hash map\r\n     */\r\n    detectParams: function () {\r\n        var options = this.options,\r\n            data    = utils.getDataset(this.widget);\r\n\r\n        if (data.counter) {\r\n            var counter = parseInt(data.counter, 10);\r\n\r\n            if (isNaN(counter)) {\r\n                options.counterUrl = data.counter;\r\n            }\r\n            else {\r\n                options.counterNumber = counter;\r\n            }\r\n        }\r\n\r\n        options.title = data.title || options.title;\r\n        options.url   = data.url   || options.url;\r\n    },\r\n\r\n    /**\r\n     * Inititate button's HTML\r\n     */\r\n    initHtml: function () {\r\n        var options = this.options,\r\n            widget  = this.widget,\r\n            text    = widget.innerHTML;\r\n\r\n        widget.addEventListener('click', this.click.bind(this));\r\n        widget.classList.remove(this.service);\r\n        widget.className += (' ' + this.className('widget'));\r\n\r\n        var button = utils.template(htmlSpan, {\r\n            className: this.className('button'),\r\n            content:   text\r\n        });\r\n\r\n        var icon = utils.template(htmlSpan, {\r\n            className: this.className('icon'),\r\n            content:   dom.wrapSVG(options.svgi)\r\n        });\r\n\r\n        widget.innerHTML = icon + button;\r\n    },\r\n\r\n    /**\r\n     * Fetch or get cached counter value and update the counter\r\n     */\r\n    initCounter: function () {\r\n        var options = this.options;\r\n\r\n        if (options.counters && options.counterNumber) {\r\n            this.updateCounter(options.counterNumber);\r\n        }\r\n        else if (options.counterUrl) {\r\n            fetch(\r\n                this.service,\r\n                options.url,\r\n                options\r\n            )(this.updateCounter.bind(this));\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param {String} className\r\n     * @return {String}\r\n     */\r\n    className: function (className) {\r\n        var fullClass = config.prefix + className;\r\n\r\n        return fullClass + ' ' + fullClass + '--' + this.service;\r\n    },\r\n\r\n    /**\r\n     * Update counter\r\n     *\r\n     * @param {String} e\r\n     */\r\n    updateCounter: function (counter) {\r\n        counter = parseInt(counter, 10) || 0;\r\n\r\n        var counterElement = dom.find('.' + config.name + '__counter', this.widget);\r\n\r\n        if (counterElement) {\r\n            counterElement.parentNode.removeChild(counterElement);\r\n        }\r\n\r\n        var options = {\r\n            className: this.className('counter'),\r\n            content:   counter\r\n        };\r\n\r\n        if (!counter && !this.options.zeroes) {\r\n            options.className += ' ' + config.prefix + 'counter--empty';\r\n            options.content = '';\r\n        }\r\n\r\n        this.widget.appendChild(\r\n            dom.createNode(utils.template(htmlSpan, options))\r\n        );\r\n\r\n        this.likely.updateCounter(this.service, counter);\r\n    },\r\n\r\n    /**\r\n     * Click event listener\r\n     */\r\n    click: function () {\r\n        var options = this.options;\r\n\r\n        if ( this.service == 'more' ){\r\n\r\n            this.widget.classList.toggle('active');\r\n            this.widget.parentElement.classList.toggle(this.options.className);\r\n\r\n        } else if (this.service == 'email'){\r\n\r\n            var url = utils.makeUrl(options.popupUrl, {\r\n                url: options.url,\r\n                title: options.title\r\n            });\r\n\r\n            window.location = url;\r\n\r\n            this.rememberClicked(this.service);\r\n\r\n        } else {\r\n\r\n            if (options.click.call(this)) {\r\n\r\n                var twitterText = this.likely.container.dataset.twitter,\r\n                    twitterUrl = this.likely.container.dataset.twitterUrl;\r\n\r\n                var window_url = utils.makeUrl(options.popupUrl, {\r\n                    url:   (this.service === 'twitter' && twitterUrl !== '' && twitterUrl !== undefined) ? twitterUrl : options.url,\r\n                    title: (this.service === 'twitter' && twitterText !== '' && twitterText !== undefined) ? twitterText : options.title\r\n                });\r\n\r\n                dom.openPopup(\r\n                    this.addAdditionalParamsToUrl(window_url),\r\n                    config.prefix + this.service,\r\n                    options.popupWidth,\r\n                    options.popupHeight\r\n                );\r\n\r\n                this.rememberClicked(this.service);\r\n            }\r\n\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * Append service data to URL\r\n     *\r\n     * @param {String} url\r\n     */\r\n    addAdditionalParamsToUrl: function (url) {\r\n        var parameters = utils.query(utils.merge(\r\n                this.widget.dataset,\r\n                this.options.data\r\n            )),\r\n            delimeter = url.indexOf('?') === -1 ? '?' : '&';\r\n\r\n        return (parameters === '') ? url : (url + delimeter + parameters);\r\n    },\r\n\r\n    /**\r\n     * Remember last clicked button and save to storage\r\n     */\r\n    rememberClicked: function (service) {\r\n        var services = storage.getItem(config.storageKey) || [],\r\n            serviceIndex = services.indexOf(service);\r\n\r\n        if (serviceIndex !== -1) {\r\n            services.splice(serviceIndex, 1);\r\n        }\r\n\r\n        services.splice(0, 0, service);\r\n\r\n        storage.setItem(config.storageKey, services);\r\n    }\r\n};\r\n\r\nmodule.exports = LikelyButton;","/**\r\n * Configuration\r\n */\r\n\r\nvar secure = window.location.protocol === 'https:';\r\n\r\nmodule.exports = {\r\n    name: 'likely',\r\n    prefix: 'likely__',\r\n    secure: secure,\r\n    protocol: secure ? 'https:' : 'http:',\r\n    storageKey: 'likelyServices',\r\n    breakpoint: 680\r\n};","var config = require('./config');\r\n\r\nvar div = document.createElement('div'),\r\n    gid = 0;\r\n\r\nvar dom = module.exports = {\r\n    /**\r\n     * Wrap SVG coords from data object into SVG tag\r\n     *\r\n     * @param {String} coords\r\n     */\r\n    wrapSVG: function (coords) {\r\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" ' + 'viewBox=\"0 0 16 16\"><path d=\"M' + coords + 'z\"/></svg>';\r\n    },\r\n\r\n    /**\r\n     * Create node from HTML\r\n     *\r\n     * @param {String} html\r\n     */\r\n    createNode: function (html) {\r\n        div.innerHTML = html;\r\n\r\n        return div.children[0];\r\n    },\r\n\r\n    /**\r\n     * Load script\r\n     *\r\n     * @param {String} url\r\n     */\r\n    getScript: function (url) {\r\n        var script = document.createElement('script'),\r\n            head   = document.head;\r\n\r\n        script.type = 'text/javascript';\r\n        script.src  = url;\r\n\r\n        head.appendChild(script);\r\n        head.removeChild(script);\r\n    },\r\n\r\n    /**\r\n     * Get JSON\r\n     *\r\n     * @param {String} url\r\n     * @param {Function} callback\r\n     */\r\n    getJSON: function (url, callback) {\r\n        var name = encodeURIComponent('random_fun_' + (++gid));\r\n\r\n        url = url.replace(\r\n            /callback=(\\?)/,\r\n            'callback=' + name\r\n        );\r\n\r\n        window[name] = callback;\r\n\r\n        dom.getScript(url);\r\n    },\r\n\r\n    /**\r\n     * Find first node by selector\r\n     *\r\n     * @param {String} selector\r\n     * @param {Node} node\r\n     * @return {Node}\r\n     */\r\n    find: function (selector, node) {\r\n        return (node || document).querySelector(selector);\r\n    },\r\n\r\n    /**\r\n     * Find all nodes by selector\r\n     *\r\n     * @param {String} selector\r\n     * @param {Node} node\r\n     * @return {NodeList}\r\n     */\r\n    findAll: function (selector, node) {\r\n        return (node || document).querySelectorAll(selector);\r\n    },\r\n\r\n    /**\r\n     * Check mobile media query\r\n     */\r\n    isMobile: function() {\r\n        return !window.matchMedia('(min-width: ' + config.breakpoint + 'px)').matches;\r\n    },\r\n\r\n    /**\r\n     * Open the popup\r\n     *\r\n     * @param {String} url\r\n     * @param {String} winId\r\n     * @param {Number} width,\r\n     * @param {Number} height\r\n     */\r\n    openPopup: function (url, winId, width, height) {\r\n        var left = Math.round(screen.width / 2 - width / 2),\r\n            top  = 0;\r\n\r\n        if (screen.height > height) {\r\n            top = Math.round(screen.height / 3 - height / 2);\r\n        }\r\n\r\n        var options = 'left='    + left +\r\n                      ',top='    + top +\r\n                      ',width='  + width +\r\n                      ',height=' + height +\r\n                      ',personalbar=0,toolbar=0,scrollbars=1,resizable=1';\r\n\r\n        var win = window.open(url, winId, options);\r\n\r\n        // if (!win) {\r\n        //     location.href = url;\r\n        //     return location.href;\r\n        // }\r\n\r\n        // win.focus();\r\n\r\n        return win;\r\n    }\r\n};","/**\r\n * Factory function\r\n * \r\n * This function returns function with following API:\r\n * \r\n * - if passed argument is callback, then this callback would be callled\r\n *   if the value was changed\r\n * - if passed argument is anything but undefined or function, then this \r\n *   function behaves like setter\r\n * - if argument isn't provided, then return value stored in closure\r\n * \r\n * @param {Object} value\r\n * @return {Function}\r\n */\r\nmodule.exports = function (value) {\r\n    var listeners = [];\r\n    \r\n    return function (argument) {\r\n        var type = typeof argument;\r\n        \r\n        if (type == 'undefined') {\r\n            return value;\r\n        }\r\n        else if (type == 'function') {\r\n            listeners.push(argument);\r\n        }\r\n        else {\r\n            value = argument;\r\n            \r\n            listeners.forEach(function (listener) {\r\n                listener(argument);\r\n            });\r\n        }\r\n    };\r\n};","var services = require('./services'),\r\n    Factory  = require('./factory'),\r\n    utils    = require('./utils'),\r\n    dom      = require('./dom');\r\n\r\nvar factories = {};\r\n\r\n/**\r\n * Fetch data\r\n *\r\n * @param {String} service\r\n * @param {String} url\r\n * @param {Object} options\r\n * @return {Promise}\r\n */\r\nmodule.exports = function (service, url, options) {\r\n    if (!factories[service]) {\r\n        factories[service] = {};\r\n    }\r\n\r\n    var counters = factories[service],\r\n        counter  = counters[url];\r\n\r\n    if (!options.forceUpdate && counter) {\r\n        return counter;\r\n    }\r\n\r\n    counter = Factory();\r\n\r\n    var href = utils.makeUrl(options.counterUrl, {\r\n        url: url\r\n    });\r\n\r\n    services[service].counter(href, counter, url);\r\n\r\n    counters[url] = counter;\r\n\r\n    return counters[url];\r\n};","// 'use strict';\r\n\r\nvar Likely = require('./widget'),\r\n    config = require('./config'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom');\r\n\r\n/**\r\n * @param {Node} node\r\n * @param {Object} options\r\n */\r\nvar likely = function (node, options) {\r\n    options = options || {};\r\n\r\n    var widget = node[config.name];\r\n\r\n    if (widget) {\r\n        widget.update(options);\r\n    }\r\n    else {\r\n        node[config.name] = new Likely(node, utils.merge(\r\n            {}, likely.defaults,\r\n            options, utils.bools(node)\r\n        ));\r\n    }\r\n\r\n    return widget;\r\n};\r\n\r\n/**\r\n * Initiate Likely buttons on load\r\n */\r\nlikely.initiate = likely.initate = function () {\r\n    var widgets = dom.findAll('.' + config.name);\r\n\r\n    utils.toArray(widgets).forEach(likely);\r\n};\r\n\r\n/**\r\n * Defaults options for likely\r\n */\r\nlikely.defaults = {\r\n    counters: true,\r\n    timeout:  1e3,\r\n    zeroes:   false,\r\n    title:    document.title,\r\n    wait:     0.5e3,\r\n    url:      window.location.href.replace(window.location.hash, '')\r\n};\r\n\r\nmodule.exports = likely;","var dom = require('./dom');\r\n\r\n/**\r\n * @param {String} url\r\n * @param {Function} factory\r\n */\r\nvar counter = function (url, factory) {\r\n    var self = this;\r\n    \r\n    dom.getJSON(url, function (count) {\r\n        try {\r\n            if (typeof self.convertNumber === 'function') {\r\n                count = self.convertNumber(count);\r\n            } \r\n            \r\n            factory(count);\r\n        } \r\n        catch (e) {}\r\n    });\r\n};\r\n\r\n/**\r\n * @param {Object} options\r\n */\r\nmodule.exports = function (options) {\r\n    options.counter = options.counter || counter;\r\n    options.click   = options.click   || function () { return true; };\r\n};","/**\r\n * E-mail service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar email = {\r\n    popupUrl: 'mailto:?subject={title}&body={url}',\r\n    popupWidth: 0,\r\n    popupHeight: 0\r\n};\r\n\r\nmodule.exports = email;","/**\r\n * Facebook service provider\r\n */\r\n\r\nmodule.exports = {\r\n    counterUrl: 'https://graph.facebook.com/?fields=share,og_object{likes.limit(0).summary(true),comments.limit(0).summary(true)}&id={url}&callback=?',\r\n    convertNumber: function (counter) {\r\n        return counter.share.share_count;\r\n    },\r\n    popupUrl: 'https://www.facebook.com/sharer/sharer.php?u={url}',\r\n    popupWidth: 600,\r\n    popupHeight: 500\r\n};","/**\r\n * Google+ service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar gplus = {\r\n    gid: 0,\r\n    promises: {},\r\n    popupUrl: 'https://plus.google.com/share?url={url}',\r\n    popupWidth: 700,\r\n    popupHeight: 500\r\n};\r\n\r\nmodule.exports = gplus;","/**\r\n * Social network services\r\n */\r\n\r\nvar Service = require('../service'),\r\n    utils   = require('../utils'),\r\n    svg     = require('../svg.json');\r\n\r\nvar services = {\r\n    odnoklassniki: require('./odnoklassniki'),\r\n    vkontakte:     require('./vk'),\r\n    facebook:      require('./facebook'),\r\n    twitter:       require('./twitter'),\r\n    gplus:         require('./gplus'),\r\n    pocket:        require('./pocket'),\r\n    telegram:      require('./telegram'),\r\n    whatsapp:      require('./whatsapp'),\r\n    viber:         require('./viber'),\r\n    email:         require('./email'),\r\n    more:          require('./more')\r\n};\r\n\r\nutils.each(services, function (service, key) {\r\n    Service(service);\r\n\r\n    service.svgi = svg[key];\r\n    service.name = key;\r\n});\r\n\r\nmodule.exports = services;","var config = require('../config');\r\n\r\nmodule.exports = {\r\n\tparent: config.name,\r\n    className: config.name + '--expanded'\r\n};","/**\r\n * Odnoklassniki service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar odnoklassniki = {\r\n    counterUrl: config.secure \r\n        ? undefined \r\n        : 'http://connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}',\r\n    counter: function (url, promise) {\r\n        this.promises.push(promise);\r\n        \r\n        dom.getScript(utils.makeUrl(url, {\r\n            index: this.promises.length - 1\r\n        }));\r\n    },\r\n    promises: [],\r\n    popupUrl: 'http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}',\r\n    popupWidth: 640,\r\n    popupHeight: 400\r\n};\r\n\r\nutils.set(window, 'ODKL.updateCount', function (index, counter) {\r\n    odnoklassniki.promises[index](counter);\r\n});\r\n\r\nmodule.exports = odnoklassniki;","/**\r\n * Pocket service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar pocket = {\r\n    popupUrl: config.protocol + '//getpocket.com/save?url={url}&format=json&callback=?',\r\n    popupWidth: 600,\r\n    popupHeight: 300\r\n};\r\n\r\nmodule.exports = pocket;","/**\r\n * Telegram service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'tg://msg?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * Twitter service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar twitter = {\r\n    popupUrl: config.protocol + '//twitter.com/intent/tweet?url={url}&text={title}',\r\n    popupWidth: 600,\r\n    popupHeight: 450,\r\n    click: function () {\r\n        if (!/[\\.\\?:\\-–—]\\s*$/.test(this.options.title)) {\r\n            this.options.title += ':';\r\n        }\r\n\r\n        return true;\r\n    }\r\n};\r\n\r\nmodule.exports = twitter;\r\n","/**\r\n * Viber service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'viber://forward?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * Vkontakte service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar vkontakte = {\r\n    counterUrl: 'https://vk.com/share.php?act=count&url={url}&index={index}',\r\n    counter: function (url, promise) {\r\n        this.promises.push(promise);\r\n        \r\n        dom.getScript(utils.makeUrl(url, {\r\n            index: this.promises.length - 1\r\n        }));\r\n    },\r\n    promises: [],\r\n    popupUrl: config.protocol + '//vk.com/share.php?url={url}&title={title}',\r\n    popupWidth: 550,\r\n    popupHeight: 330\r\n};\r\n\r\nutils.set(window, 'VK.Share.count', function (index, count) {\r\n    vkontakte.promises[index](count);\r\n});\r\n\r\nmodule.exports = vkontakte;\r\n","/**\r\n * WhatsApp service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'whatsapp://send?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","var isAvailable = function() {\r\n\r\n    try {\r\n        window.localStorage.setItem('isStorageAvailable', 1);\r\n        window.localStorage.removeItem('isStorageAvailable');\r\n        return true;\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n\r\n};\r\n\r\nvar storage = {\r\n\r\n    /**\r\n     * Get item from localStorage\r\n     * @param {String} key\r\n     */\r\n    getItem: function(key){\r\n\r\n        if (isAvailable()) {\r\n\r\n            var item = window.localStorage.getItem(key);\r\n\r\n            try {\r\n                JSON.parse(item);\r\n            } catch (e) {\r\n                return item;\r\n            }\r\n\r\n            return JSON.parse(item);\r\n\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * Save item in localStorage\r\n     * @param {String} key\r\n     * @param {String} value\r\n     */\r\n    setItem: function(key, value) {\r\n\r\n        value = (typeof value === 'string') ? value : JSON.stringify(value);\r\n\r\n        if (isAvailable()) {\r\n            window.localStorage.setItem(key, value);\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * Remove item from localStorage\r\n     * @param {String} key\r\n     */\r\n    removeItem: function(key) {\r\n\r\n        if (isAvailable()) {\r\n            window.localStorage.removeItem(key);\r\n        }\r\n\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = storage;","var bool = {yes: true, no: false},\r\n    rUrl = /(https?|ftp):\\/\\/[^\\s\\/$.?#].[^\\s]*/gi;\r\n\r\n/**\r\n * @internal\r\n */\r\nvar utils = {\r\n    /**\r\n     * Simple $.each, only for objects\r\n     *\r\n     * @param {Object} object\r\n     * @param {Function} callback\r\n     */\r\n    each: function (object, callback) {\r\n        for (var key in object) {\r\n            if (object.hasOwnProperty(key)) {\r\n                callback(object[key], key);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Convert array-like object to array\r\n     *\r\n     * @param {Object} arrayLike\r\n     * @return {Array}\r\n     */\r\n    toArray: function (arrayLike) {\r\n        return Array.prototype.slice.call(arrayLike);\r\n    },\r\n\r\n    /**\r\n     * Merge given dictionaries (objects) into one object\r\n     *\r\n     * @param {Object} ...objects\r\n     * @return {Object}\r\n     */\r\n    merge: function () {\r\n        var result = {};\r\n\r\n        for (var i = 0; i < arguments.length; i ++) {\r\n            var arg = arguments[i];\r\n\r\n            if (arg) {\r\n                for (var key in arg) {\r\n                    result[key] = arg[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Extend one (target) object by other (subject)\r\n     *\r\n     * @param {Object} target\r\n     * @param {Object} subject\r\n     */\r\n    extend: function (target, subject) {\r\n        for (var key in subject) {\r\n            target[key] = subject[key];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Check new flexbox syntax support\r\n     */\r\n    flexboxSupport: function(element, name){\r\n        var d = document, f = 'flex', fw = '-webkit-'+f, e = d.createElement('b'), c;\r\n\r\n        try {\r\n            e.style.display = fw;\r\n            e.style.display = f;\r\n            c = (e.style.display == f || e.style.display == fw) ? f : 'no-'+f;\r\n        } catch(e) {\r\n            c = 'no-'+f;\r\n        }\r\n\r\n        element.className += ' ' + name + '--' + c;\r\n    },\r\n\r\n    /**\r\n     * Return node.dataset or plain object for IE 10without setters\r\n     * based on https://gist.github.com/brettz9/4093766#file_html5_dataset.js\r\n     *\r\n     * @param {Node} node\r\n     * @return {Object}\r\n     */\r\n    getDataset: function (node) {\r\n        if (typeof node.dataset === 'object') {\r\n            return node.dataset;\r\n        }\r\n\r\n        var i,\r\n            dataset = {},\r\n            attributes = node.attributes,\r\n            attribute,\r\n            attributeName;\r\n\r\n        var toUpperCase = function (n0) {\r\n            return n0.charAt(1).toUpperCase();\r\n        };\r\n\r\n        for (i = attributes.length - 1; i >= 0; i--) {\r\n            attribute = attributes[i];\r\n            if (attribute && attribute.name &&\r\n                (/^data-\\w[\\w\\-]*$/).test(attribute.name)) {\r\n                    attributeName = attribute.name.substr(5).replace(/-./g, toUpperCase);\r\n                    dataset[attributeName] = attribute.value;\r\n                }\r\n        }\r\n\r\n        return dataset;\r\n    },\r\n\r\n    /**\r\n     * Convert \"yes\" and \"no\" to true and false.\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    bools: function (node) {\r\n        var result = {},\r\n            data   = utils.getDataset(node);\r\n\r\n        for (var key in data) {\r\n            var value = data[key];\r\n\r\n            result[key] = bool[value] || value;\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Map object keys in string to its values\r\n     *\r\n     * @param {String} text\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    template: function (text, data) {\r\n        return !text ? '' : text.replace(/\\{([^\\}]+)\\}/g, function (value, key) {\r\n            return key in data ? data[key] : value;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Map object keys in URL to its values\r\n     *\r\n     * @param {String} text\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    makeUrl: function (text, data) {\r\n        for (var key in data) {\r\n            data[key] = encodeURIComponent(data[key]);\r\n        }\r\n\r\n        return utils.template(text, data);\r\n    },\r\n\r\n    /**\r\n     * Create query string out of data\r\n     *\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    query: function (data) {\r\n        var filter = encodeURIComponent,\r\n            query  = [];\r\n\r\n        for (var key in data) {\r\n            if (typeof data[key] === 'object') continue;\r\n\r\n            query.push(filter(key) + '=' + filter(data[key]));\r\n        }\r\n\r\n        return query.join('&');\r\n    },\r\n\r\n    /**\r\n     * Set value in object using dot-notation\r\n     *\r\n     * @param {Object} object\r\n     * @param {String} key\r\n     * @param {Object} value\r\n     */\r\n    set: function (object, key, value) {\r\n        var frags = key.split('.'),\r\n            last  = null;\r\n\r\n        frags.forEach(function (key, index) {\r\n            if (typeof object[key] === 'undefined') {\r\n                object[key] = {};\r\n            }\r\n\r\n            if (index !== frags.length - 1) {\r\n                object = object[key];\r\n            }\r\n\r\n            last = key;\r\n        });\r\n\r\n        object[last] = value;\r\n    }\r\n};\r\n\r\nmodule.exports = utils;","var Button = require('./button');\r\n\r\nvar services = require('./services'),\r\n    config   = require('./config'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom'),\r\n    storage = require('./storage');\r\n\r\n/**\r\n * Main widget view\r\n *\r\n * @param {Node} container\r\n * @param {Object} options\r\n */\r\nfunction Likely(container, options) {\r\n    console.log(container.dataset.smart);\r\n\r\n    this.isSmartOrder = container.dataset.smart !== undefined ? true : false;\r\n    this.container = container;\r\n    this.options   = options;\r\n\r\n    this.countersLeft = 0;\r\n    this.buttons      = [];\r\n    this.number       = 0;\r\n\r\n    this.init();\r\n}\r\n\r\nLikely.prototype = {\r\n\r\n    /**\r\n     * Change buttons order, if previous clicks were saved\r\n     * @param {Array} children\r\n     */\r\n    reorder: function (children) {\r\n        var savedServices = storage.getItem(config.storageKey);\r\n\r\n        if (savedServices) {\r\n            savedServices.reverse();\r\n\r\n            savedServices.forEach(function (service) {\r\n\r\n                var button = dom.find('.' + service);\r\n\r\n                if (button) {\r\n                    button.parentNode.insertBefore(button, button.parentNode.firstChild);\r\n                }\r\n\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Initiate the social buttons widget\r\n     */\r\n    init: function () {\r\n\r\n        var buttons = utils.toArray(this.container.children);\r\n\r\n        if (dom.isMobile() && this.isSmartOrder) {\r\n            this.reorder(buttons);\r\n        }\r\n\r\n        buttons.forEach(this.addButton.bind(this));\r\n\r\n        if (this.options.counters) {\r\n            this.timer   = setTimeout(this.appear.bind(this), this.options.wait);\r\n            this.timeout = setTimeout(this.ready.bind(this),  this.options.timeout);\r\n        }\r\n        else {\r\n            this.appear();\r\n        }\r\n\r\n        utils.flexboxSupport(this.container, config.name);\r\n    },\r\n\r\n    /**\r\n     * Add a button\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    addButton: function (node) {\r\n        var button = new Button(node, this, this.options);\r\n\r\n        this.buttons.push(button);\r\n\r\n        if (button.options.counterUrl) {\r\n            this.countersLeft++;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update the timer with URL\r\n     *\r\n     * @param {Object} options\r\n     */\r\n    update: function (options) {\r\n        if (\r\n            options.forceUpdate ||\r\n            options.url !== this.options.url\r\n        ) {\r\n            this.countersLeft = this.buttons.length;\r\n            this.number = 0;\r\n\r\n            this.buttons.forEach(function (button) {\r\n                button.update(options);\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update counter\r\n     *\r\n     * @param {String} service\r\n     * @param {Number} counter\r\n     */\r\n    updateCounter: function (service, counter) {\r\n        if (counter) {\r\n            this.number += counter;\r\n        }\r\n\r\n        this.countersLeft--;\r\n\r\n        if (this.countersLeft === 0) {\r\n            this.appear();\r\n            this.ready();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Show the buttons with smooth animation\r\n     */\r\n    appear: function () {\r\n        this.container.classList.add(config.name + '--visible');\r\n    },\r\n\r\n    /**\r\n     * Get. Set. Ready.\r\n     */\r\n    ready: function () {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n\r\n            this.container.classList.add(config.name + '--ready');\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = Likely;","// removed by extract-text-webpack-plugin","export default class Auth {\n  /**\n   * @param {string} url - /auth/vk\n   * @param callback  - callback that will be called after auth\n   */\n  constructor(url, callback){\n    this.url = url;\n    this.callback = callback;\n    window.addEventListener('storage', () => {\n      this.storageChangeHandler();\n    });\n\n    this.open();\n  }\n\n  /**\n   * Open auth popup\n   */\n  open(){\n    let left = (window.screen.width / 2) - (800 / 2);\n    let top = (window.screen.height / 2) - (570 / 2);\n\n    window.localStorage.removeItem('logged_in');\n    console.log('now will open');\n    window.open(this.url, 'displayWindow', `width=720,height=440,left=${left},top=${top},location=no,directories=no,status=no,toolbar=no,menubar=no`);\n  }\n\n  /**\n   * Watch for local storage changing\n   **/\n  storageChangeHandler() {\n    /** Если появился ключ, означающий успешную авторизацию... */\n    if (parseInt(window.localStorage.logged_in) === 1) {\n      window.localStorage.removeItem('logged_in');\n\n      this.callback();\n    }\n    /** Если появился ключ, означающий проваленную авторизацию, делаем что-то (если нужно) */\n    if (window.localStorage.auth_error) {\n      console.log('Auth error', window.localStorage.auth_error);\n      window.localStorage.removeItem('auth_error');\n    }\n  };\n};","import * as Analytics from './lib/analytics';\nimport Preloader from './lib/preloader';\n\n/**\n * Base special constructor with common methods\n */\nexport default class BaseSpecial {\n  constructor() {\n    this.params = {\n      container: 'body',\n      analyticsCategory: null,\n      sendPageview: false,\n      listenedEvents: [\n        'click'\n      ],\n      listenedKeys: []\n    };\n\n    this.keyCodes = {\n      enter: 13\n    };\n\n    /**\n         * Construct image preloader module\n         * @type {Preloader}\n         */\n    this.preloader = new Preloader();\n  }\n\n  /**\n     * Save custom params\n     * @param {Object} params - params object with custom values\n     */\n  saveParams(params) {\n    Object.assign(this.params, params);\n    this.container = this.params.container;\n    this.addEventListeners();\n  }\n\n  /**\n     * Load css file\n     * @param {String} path\n     */\n  loadStyles(path) {\n    return new Promise((resolve) => {\n      let link = document.createElement('link');\n\n      link.rel = 'stylesheet';\n      link.href = path;\n\n      link.onload = () => resolve();\n\n      document.body.appendChild(link);\n    });\n  }\n\n  /**\n     * Add event listeners to document\n     */\n  addEventListeners() {\n    this.params.listenedEvents.forEach(eventName => {\n      this.container.addEventListener(eventName, event => this.defaultEventHandler(event, eventName));\n    });\n  }\n\n  /**\n     * Default events handler\n     * @param {Object} event\n     * @param {String} eventName\n     */\n  defaultEventHandler(event, eventName) {\n    /** Keydown event */\n    if (eventName === 'keydown' && this.params.listenedKeys.length > 0) {\n      this.params.listenedKeys.forEach(key => {\n        if (event.keyCode === key.code) {\n          key.action(event);\n        }\n      });\n\n      /** All other events, attached to elements */\n    } else {\n      let el  = event.target;\n\n      /**\n       * Bubble click\n       */\n      while (el) {\n        let action = el.dataset ? el.dataset[eventName] : null;\n\n        if (action && this[action]) {\n          this[action](el, event);\n        }\n\n        /** Send links clicks to analytics */\n        if (el.tagName && el.tagName.toLowerCase() === 'a') {\n          Analytics.sendEvent(el.href);\n        }\n\n        el = el.parentNode;\n      }\n    }\n  }\n}","module.exports = {\n  name: 'SpeccSpecial',\n  analyticsCategory: 'Battlefield V',\n  sendPageview: false,\n  listenedEvents: [\n    'click',\n  ]\n};","export default {\n  title: `\n    <span class=\"intro-logo\"></span>\n    <br/>\n    — ДЕШИФРОВКА —\n  `,\n  task: 'Select correct answer',\n  intro: `\n    К выходу <b>Battlefield V</b> мы подготовили квест, в котором вы примерите на себя роль криптографа времён Второй мировой. Ваша задача — расшифровать все сообщения нацистов и принять правильное решение, чтобы помочь выиграть войну.\n    <div class=\"intro-prizes\">\n      <div class=\"intro-prizes__image\"></div>\n      <div class=\"intro-prizes__text\">\n        Криптографы, правильно ответившие на все семь вопросов, получат возможность поучаствовать в розыгрыше крутых призов: <b>[ПРИЗЫ]</b>\n      </div>\n    </div>\n  `,\n  introduction: `Вы – офицер британской разведки, но не из тех, что учиняют диверсии во вражеском тылу или внедряются в высшие эшелоны власти. Ваш отдел ежедневно изучает десятки и сотни перехваченных сообщений, среди которых как рутинные доклады о снабжении, так и детали судьбоносных операций. Конечно же, всё это зашифровано, и ваша задача — раскусить коды противника, чтобы добраться до сути.`,\n  tabs: [\n    {\n      tab: 'main',\n      label: 'Конкурс',\n    },\n    {\n      tab: 'aboutGame',\n      label: 'О Battlefield V',\n      content: `\n        <div class=\"about-game\">\n          <p>\n            <b>Battlefield V</b> – Вторая мировая в совершенно новом свете. Примитие участие в мультиплеерных боях в новых и классических режимах. Сюжетная кампания рассказывает про людей, чьи судьбы были втянуты в величайший военный конфликт в истории человечества. \n          </p>\n          <p>\n            <b>Battlefield V</b> отказывается от сезонных пропусков. «Ход войны» – новый сервис, снабжающий игроков бесплатным контентом в течение нескольких лет.\n          </p>\n          <h2>\n            ТРЕЙЛЕРЫ И ВИДЕО ПО ИГРЕ\n          </h2>\n          <img src=\"https://leonardo.osnova.io/b8334bfa-a0a4-28af-fd28-4242dca9ef23\">\n          <div class=\"about-game__buttons\">\n            <a class=\"bf-special__button\" href=\"\">\n              УЗНАТЬ БОЛЬШЕ О&nbsp;BATTLEFIELD&nbsp;V\n            </a>\n          </div>\n        </div>\n      `,\n    },\n    {\n      tab: 'aboutPrize',\n      label: 'О NVIDIA RTX',\n      content: `\n        <div class=\"about-nvidia\">\n          <img class=\"about-nvidia__cover\" src=\"https://leonardo.osnova.io/05d01e0b-9a77-ea0f-dbbd-6694570218df\">\n          <img class=\"about-nvidia__logo\" src=\"https://leonardo.osnova.io/21a6011a-788a-1955-ba9e-a6746a44e614\">\n          <p>\n            <b>GEFORCE RTX</b> — новый уровень реализма графики на PC. \n            Видеокарты RTX совмещают в себе технологии трассировки лучей в реальном времени, искусственный интеллект и программируемые шейдеры. Это иной игровой опыт.\n          </p>\n          <p>\n            Приз этого конкурса — кастомный игровой PC Battlefield V на базе <b>NVIDIA GEFORCE RTX 2080 Ti</b>.\n          </p>\n          <div class=\"about-game__buttons\">\n            <a class=\"bf-special__button\" href=\"\">\n              УЗНАТЬ БОЛЬШЕ О NVIDIA RTX\n            </a>\n          </div>\n        </div> \n      `,\n    }\n  ],\n  conclusion: 'Война продлится ещё целый год как в Европе, так и в Азии, и вас ждёт масса работы. Но ставки уже не столь высоки. Все знают, что нацизм обречён, и его уничтожение – лишь дело времени. Пускай в своей агонии Третий Рейх и будет выдумывать одно чудо-оружие за другим, это ему уже не поможет, и неважно, узнают об этом Союзники или нет.',\n  outro: `\n    <div class=\"outro-prizes\">\n      <div class=\"outro-prizes__image\"></div>\n      <div class=\"outro-prizes__text\">\n        28 ноября в [ВРЕМЯ] мы проведём стрим, на котором расскажем о Battlefield V, а также разыграем призы среди тех, кто успешно прошёл квест. Не пропустите! Смотреть трансляцию можно на Twitch [https://twitch.tv/dtfru].\n      </div>\n    </div>\n  `,\n  logoUrl: '',\n  promoUrl: '',\n  CTAText: 'УЗНАТЬ БОЛЬШЕ О BATTLEFIELD V',\n  questions: [\n    {\n      id: 1,\n      text: 'Вас направили на помощь команде математиков под началом Алана Тьюринга, чтобы раскрыть тайну немецкого шифра «Энигма». Чтобы найти закономерность в россыпи случайных букв и цифр, нужно опираться хоть на какие-то известные слова. Однажды эксперты из Блетчли-парка всё же нашли два слова, от которых можно отталкиваться при расшифровке: TZYPQ GAOPXE. Что это за слова?',\n      image: 'https://leonardo.osnova.io/f00aa764-e678-871b-17f6-fe2ba66cb761',\n      options: [\n        {\n          id: 1,\n          text: 'Отряд утерян',\n        },\n        {\n          id: 2,\n          text: 'Хайль Гитлер',\n        },\n        {\n          id: 3,\n          text: 'Слышу конвой',\n        },\n        {\n          id: 4,\n          text: 'Взять живыми',\n        }\n      ]\n    },\n    {\n      id: 2,\n      text: 'После успеха с шифровальными машинами вас отправляют туда, где гораздо важнее человеческий фактор — в поместье «Трент-парк», где британская разведка размещала высокопоставленных пленных немецких офицеров. В комфортных условиях, пусть и взаперти, генералы разболтали немало фактов о немецкой военной машине — а их прослушивали на каждом шагу. Один такой офицер сильно запаниковал, когда узнал о точном месте своего заключения. В разговорах с другими немцами он упоминал некоего Виктора Второго как причину беспокойства. Что это за Виктор и почему Второй?',\n      image: 'https://leonardo.osnova.io/f00aa764-e678-871b-17f6-fe2ba66cb761',\n      options: [\n        {\n          id: 1,\n          text: 'Первый итальянский авианосец «Витторио Эмануэле»',\n        },\n        {\n          id: 2,\n          text: 'Завод «Фольксваген» в Вольфсбурге',\n        },\n        {\n          id: 3,\n          text: 'Второй этап операции «Вундерланд»',\n        },\n        {\n          id: 4,\n          text: 'Баллистическая ракета «Фау-2»',\n        }\n      ]\n    },\n  ],\n  results: [\n    {\n      range: [0, 4],\n      title: 'Начинающий криптограф',\n    },\n    {\n      range: [5, 7],\n      title: 'Знаток дела',\n    },\n    {\n      range: [7, 9999],\n      title: 'Почти Тьюринг',\n    },\n  ]\n};","/**\n * Entry point\n */\nconst Special = require('./special.js');\n// const Config = require('./config.js');\n\n// let special = new Special();\n\n// special.init(Config);\n\nmodule.exports = Special;","const Config = require('../config.js');\n\nconst CONSOLE_STYLE = 'color: #E87E04';\n\n/**\n * Send pageview event via GTM\n */\nexport const sendPageView = () => {\n  if (!IS_PRODUCTION) {\n    console.log('Analytics: %cPage — View', CONSOLE_STYLE);\n  }\n\n  if (window.dataLayer !== undefined) {\n    window.dataLayer.push({\n      event: 'Page — View',\n      'post_details': {},\n      section: 'special',\n      tags: [],\n      title: document.title,\n      url: window.location.pathname\n    });\n  }\n};\n\n/**\n * Send analytics events via GTM\n * @param {String} label  - event label\n * @param {String} action - event action (\"Click\" by default)\n */\nexport const sendEvent = (label, action = 'Click') => {\n  if (!IS_PRODUCTION) {\n    console.log(`Analytics: %c${Config.analyticsCategory} — ${label} — ${action}`, CONSOLE_STYLE);\n  }\n\n  if (window.dataLayer !== undefined && Config.analyticsCategory) {\n    window.dataLayer.push({\n      event: 'data_event',\n      'data_description': `${Config.analyticsCategory} — ${label} — ${action}`\n    });\n  }\n};","/**\n * Find most frequent value in array\n * @param {Array} array\n */\nexport const getMostFrequentValue = (array) => {\n  let result = [ ...array ];\n\n  return result.sort((a, b) =>\n    result.filter(v => v === a).length - result.filter(v => v === b).length\n  ).pop();\n};\n\n/**\n * Shuffle an array (original array will be modified)\n * @param {Array} array\n */\nexport const shuffle = (array) => {\n  let j, x, i;\n\n  for (i = array.length - 1; i > 0; i--) {\n    j = Math.floor(Math.random() * (i + 1));\n    x = array[i];\n    array[i] = array[j];\n    array[j] = x;\n  }\n};\n\n/**\n * Convert nodelist to array\n * @param {NodeList} nodeList\n */\nexport const toArray = (nodeList) => {\n  return Array.prototype.slice.call(nodeList);\n};","const BREAKPOINTS = {\n  mobile: 680\n};\n\n/**\n * Check if screen size is mobile\n */\nexport const isMobile = () => {\n  return !window.matchMedia(`(min-width: ${BREAKPOINTS.mobile}px)`).matches;\n};","/**\n * Make html element\n * @param {String} tagName\n * @param {Array|string} classNames - array of classnames\n * @param {Object} attributes - object with html attributes\n */\nexport const make = function make(tagName, classNames = [], attributes = []) {\n  tagName = tagName.toLowerCase();\n\n  let element = document.createElement(tagName);\n\n  if (Array.isArray(classNames)) {\n    element.classList.add(...classNames);\n  } else {\n    element.classList.add(classNames);\n  }\n\n  for (let attr in attributes) {\n    /**\n     * @todo rename data to dataset\n     */\n    if (attr === 'data') {\n      let dataAttributes = attributes[attr];\n\n      for (let key in dataAttributes) {\n        element.dataset[key] = dataAttributes[key];\n      }\n    } else {\n      element[attr] = attributes[attr];\n    }\n  }\n\n  return element;\n};\n\n/**\n * Cache elements with data-view attribute and put them in object\n * @param {Object} obj\n */\nexport const cacheElements = (obj) => {\n  let newObj = {},\n    attr = 'view',\n    elements = document.querySelectorAll(`[data-${attr}]`);\n\n  Array.prototype.forEach.call(elements, el => {\n    let name = el.dataset[attr];\n\n    newObj[name] = el;\n  });\n\n  Object.assign(obj, newObj);\n};\n\n/**\n * Get all siblings of specified element\n * @param {Element} element\n */\nexport const getSiblings = (element) => {\n  let siblings = [],\n    sibling = element.parentNode.firstChild;\n\n  for (; sibling; sibling = sibling.nextSibling) {\n    if (sibling.nodeType !== 1 || sibling === element) continue;\n    siblings.push(sibling);\n  }\n\n  return siblings;\n};\n\n/**\n * Remove all children from element\n * @param {Element} parent\n */\nexport const removeChildren = (parent) => {\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n};\n\n/**\n * Remove specified element from its parent\n * @param {Element} element\n */\nexport const removeElement = (element) => {\n  if (element) {\n    element.parentNode.removeChild(element);\n  }\n};\n\nexport const htmlStringToNode = (html) => {\n  let el = document.createElement('div');\n\n  el.innerHTML = html;\n\n  return el.firstChild;\n};\n\nexport const prepend = (parent, el) => {\n  parent.insertBefore(el, parent.firstChild);\n};\n\n/**\n * Replace one element with another\n */\nexport const replace = (target, another) => {\n  target.parentNode.replaceChild(another, target);\n};","/**\n * Simple images preload\n * @param {Array} urls - array of images urls\n */\nexport const preloadImages = (urls) => {\n  urls.forEach(url => {\n    let image = new Image();\n\n    image.src = url;\n  });\n};\n\n/**\n * Decline russian words\n * @param {Number} number\n * @param {Array} words - array of 3 words\n */\nexport const declineWord = (number, words) => {\n  let result = '';\n\n  if (number % 10 == 1 && number % 100 != 11) {\n    result += words[0];\n  } else if ([2, 3, 4].indexOf(number % 10) > -1 && [12, 13, 14].indexOf(number % 100) < 0) {\n    result += words[1];\n  } else {\n    result += words[2];\n  }\n\n  return result;\n};\n\n/**\n * Format large numbers\n * @param {Number} number\n * @param {String} string - string to insert after thousands. Non-breaking space by default\n */\nexport const formatNumber = (number, string = '&nbsp;') => {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, string);\n};\n\n/**\n * Scroll window to target element\n * @param {Element} element\n * @param {Number} offset - offset from top\n */\nexport const scrollToElement = (element, offset = 0) => {\n  let y = element.getBoundingClientRect().top + (window.scrollY || window.pageYOffset) - offset;\n\n  window.scroll(0, y);\n};\n\nexport const copyToClipboard = (string, callback) => {\n  let input = document.createElement('textarea'),\n    isSuccess = false;\n\n  Object.assign(input.style, {\n    position: 'fixed',\n    top: '0',\n    left: '0',\n    opacity: '0'\n  });\n\n  input.value = string;\n\n  document.body.appendChild(input);\n\n  input.select();\n\n  try {\n    document.execCommand('copy');\n\n    isSuccess = true;\n  } catch (e) { }\n\n  document.body.removeChild(input);\n\n  callback(isSuccess);\n};","/**\n * Image Preloader module\n *\n * Loads Image and stores in own cache\n *\n * @usage preloader.load(url)\n * @usage preloader.load([url1, url2])\n * @usage let imageCached = preloader.get(url); el.appendChild(imageCached);\n *\n */\n\nexport default class Preloader {\n  constructor() {\n    /**\n         * Internal cache\n         * @type {{src: Image}}\n         */\n    this.images = {};\n  }\n\n  /**\n     * Loads Image\n     * @param {string|string[]} urls - one or several URL to prelaod\n     */\n  load(urls) {\n    console.log('Preloader: start to load', urls);\n    if (Array.isArray(urls)) {\n      urls.forEach( url => {\n        this.loadOne(url);\n      });\n    } else {\n      this.loadOne(urls);\n    }\n  }\n\n  /**\n     * Loads single image\n     * @param {string} url\n     */\n  loadOne(url) {\n    if (this.images[url]) {\n      console.log('Preloader: already loaded %o', url);\n      return;\n    }\n\n    let image = new Image();\n\n    image.src = url;\n\n    console.time(url);\n\n    image.onload = () => {\n      console.timeEnd(url);\n    };\n\n    image.onerror = () => {\n      console.timeEnd(url);\n      console.warn('image [%o] was not loaded', url);\n    };\n\n    this.images[url] = image;\n  }\n\n  /**\n     * Return loaded image\n     */\n  get(url) {\n    if (!this.images[url]) {\n      this.loadOne(url);\n    }\n\n    return this.images[url];\n  }\n}","import Likely from 'cmtt-likely';\nimport {\n  make\n} from './dom';\nimport * as Analytics from './analytics';\n\nconst CSS = {\n  likely: 'likely',\n  likelyCustom: 'likely--custom',\n  state: {\n    hidden: 'l-hidden'\n  }\n};\n\nexport const init = () => {\n  Likely.initate();\n};\n\n/**\n * Make likely buttons and append to specified element\n * @param {Element} parentContainer\n * @param {Array} socials\n */\nexport const create = (parentContainer, set = {}) => {\n  let likelyContainer = make('div', [CSS.likely, CSS.likelyCustom]),\n    socials = ['facebook', 'vkontakte', 'twitter'];\n\n  socials.forEach(social => {\n    let button = make('div', social);\n\n    if (social === 'facebook') button.textContent = 'Поделиться';\n\n    button.addEventListener('click', () => {\n      Analytics.sendEvent(`Share ${social}`);\n    });\n\n    likelyContainer.appendChild(button);\n  });\n\n  parentContainer.appendChild(likelyContainer);\n\n  if (set.url) likelyContainer.dataset.url = set.url;\n  if (set.twitter) likelyContainer.dataset.twitter = set.twitter;\n\n  init();\n};","/**\n * Class for special project tests\n */\n/**\n * @typedef {object} InitParams\n * @property {Element} container - where to append\n * @property {string} articleUrl - url of entry that has the app injected\n * @property {{url, twitter}} share - sharing params\n * @property {string} apiEndpoint - route for requests to backend (checkAuth, checkAnswer etc)\n */\n\n/**\n * @typedef {object} question\n * @description Object represented single question data\n * @property {number} id - question's id\n * @property {string} text\n * @property {string} image - url of image with code\n * @property {option[]} options\n */\n\n/**\n * @typedef {object} option\n * @description Available answer item\n * @property {number} id - we can't use option'a index, because they will be shuffled\n * @property {string} text\n */\n\n/**\n * @typedef {object} result\n * @property {array} range - [1, 3]\n * @property {string} title - 'Вы белка'\n * @property {string} message - '6 из 7 правильныйх ответов'\n */\n\n/**\n * Dependencies\n */\nrequire('../css/app.pcss');\n\nconst CONFIG = require('./config');\n\nimport * as Analytics from './lib/analytics';\nimport * as Share from './lib/share';\nimport BaseSpecial from './base';\n\nimport ajax from '@codexteam/ajax';\n\nimport DATA from './data';\nimport SVG from './svg';\nimport { prepend, make, removeChildren, removeElement } from './lib/dom';\nimport { isMobile } from './lib/check';\nimport { shuffle } from './lib/array';\nimport { scrollToElement } from './lib/helper';\nimport Auth from './auth';\n\n/**\n * Special constructor\n */\nclass Special extends BaseSpecial {\n  constructor(params) {\n    super();\n\n    this.css = params.css;\n    this.staticURL = params.staticURL;\n\n    this.nodes = {\n      wrapper: null,\n      container: null,\n      header: null,\n      counter: null,\n      headerMenu: null,\n      headerMenuTabs: [],\n      content: null,\n      tabs: [],\n      mainText: null,\n      options: null,\n      optionsItems: [],\n      actions: null,\n      resultsButton: null,\n      result: null,\n      popup: null,\n      popupContainer: null,\n    };\n\n    this.setDefaultValues();\n  }\n\n  /**\n   * Parametres uses in app\n   */\n  setDefaultValues() {\n    this.activeIndex = 0;\n    this.totalLength = DATA.questions.length;\n    this.userPoints = 0;\n    this.isPending = false;\n  }\n\n  /**\n   * App stated\n   * @param {InitParams} params\n   */\n  init(params = {}) {\n    Object.assign(CONFIG, params);\n\n    /**\n     * Save init params to this.params of base class\n     */\n    this.saveParams(CONFIG);\n\n    if (this.css) {\n      this.loadStyles(this.css).then(() => this.render());\n    }\n  }\n\n  /**\n   *\n   * @return {{wrapper: string, container: string, header: string, headerLogo: string, headerMenu: string, headerMenuButton: string, headerMenuButtonActive: string, content: string, contentHidden: string, counter: string, mainText: string, options: string, optionsDisabled: string, optionsItem: string, optionsItemSelected: string, optionsItemLoading: string, optionsItemCorrect: string, optionsItemError: string, optionsMessage: string, actions: string, actionsDisclaimer: string, title: string, button: string, buttonSecond: string, buttonDisabled: string, introText: string, result: string, resultContent: string, resultActions: string, resultButton: string, resultsTable: string, popup: string, popupShowed: string, popupContainer: string, popupClose: string, authButtons: string}}\n   * @constructor\n   */\n  static get CSS() {\n    return {\n      wrapper: 'bf-special',\n      container: 'bf-special__container',\n\n      header: 'bf-special__header',\n      headerLogo: 'bf-special__header-logo',\n      headerMenu: 'bf-special__header-menu',\n      headerMenuButton: 'bf-special__header-menu-button',\n      headerMenuButtonActive: 'bf-special__header-menu-button--active',\n\n      content: 'bf-special__content',\n      contentHidden: 'bf-special__content--hidden',\n      counter: 'bf-special__counter',\n      mainText: 'bf-special__content-text',\n\n      options: 'bf-special__options',\n      optionsDisabled: 'bf-special__options--disabled',\n      optionsItem: 'bf-special__options-item',\n      optionsItemSelected: 'bf-special__options-item--selected',\n      optionsItemLoading: 'bf-special__options-item--loading',\n      optionsItemCorrect: 'bf-special__options-item--correct',\n      optionsItemError: 'bf-special__options-item--incorrect',\n      optionsMessage: 'bf-special__options-message',\n\n      actions: 'bf-special__actions',\n      actionsDisclaimer: 'bf-special__actions-disclaimer',\n\n      title: 'bf-special__title',\n      button: 'bf-special__button',\n      buttonSecond: 'bf-special__button--second',\n      buttonDisabled: 'bf-special__button--disabled',\n      introText: 'bf-special__intro',\n\n      result: 'bf-special__result',\n      resultContent: 'bf-special__result-content',\n      resultActions: 'bf-special__result-actions',\n      resultButton: 'bf-special__result-button',\n      resultsTable: 'bf-special__table',\n\n      popup: 'bf-special__popup',\n      popupShowed: 'bf-special__popup--showed',\n      popupContainer: 'bf-special__popup-container',\n      popupClose: 'bf-special__popup-close',\n\n      auth: 'bf-special__auth',\n      authButtons: 'bf-special__auth-buttons',\n    };\n  }\n\n  /**\n   * Create base layout\n   *\n   * <wrapper>\n   *   <container>\n   *     <header>\n   *       <header-logo--left>\n   *       <header-logo--right>\n   *       <header-menu>\n   *         <header-menu-button>\n   *         ...\n   *       </header-menu>\n   *     </header>\n   *     <content>\n   *       <header-counter>\n   *       <main-text>\n   *       <options>\n   *       <actions>\n   *   </container>\n   * </wrapper>\n   */\n  render() {\n    this.nodes.wrapper = make('div', Special.CSS.wrapper);\n    this.nodes.container = make('div', Special.CSS.container);\n\n    /**\n     * Header\n     */\n    this.nodes.header = make('div', Special.CSS.header, {\n      innerHTML: `\n        <a class=\"${Special.CSS.headerLogo} ${Special.CSS.headerLogo}--left\" href=\"${DATA.logoUrl}\" target=\"_blank\"></a>\n        <a class=\"${Special.CSS.headerLogo} ${Special.CSS.headerLogo}--right\" href=\"${DATA.logoUrl}\" target=\"_blank\"></a>\n        <a class=\"${Special.CSS.headerLogo} ${Special.CSS.headerLogo}--bottom\" href=\"${DATA.logoUrl}\" target=\"_blank\"></a>\n      `\n    });\n\n    /**\n     * Append Header menu if enabled\n     */\n    if (DATA.tabs) {\n      this.nodes.headerMenu = make('div', Special.CSS.headerMenu);\n      this.nodes.header.appendChild(this.nodes.headerMenu);\n      DATA.tabs.forEach(({tab, label}) => {\n        let button = make('span', Special.CSS.headerMenuButton, {\n          textContent: label,\n          data: {\n            click: 'tabClicked',\n            tab\n          }\n        });\n\n        this.nodes.headerMenuTabs.push(button);\n        this.nodes.headerMenu.appendChild(button);\n      });\n    }\n\n    this.nodes.wrapper.appendChild(this.nodes.header);\n\n\n    /**\n     * Content\n     */\n    this.nodes.content = make('div', Special.CSS.content, {\n      data : {\n        tab: 'main'\n      }\n    });\n    this.nodes.tabs.push(this.nodes.content);\n\n    this.nodes.counter = make('div', Special.CSS.counter);\n    this.nodes.mainText = make('div', Special.CSS.mainText);\n    this.nodes.options = make('div', Special.CSS.options);\n    this.nodes.actions = make('div', Special.CSS.actions);\n\n    this.nodes.content.appendChild(this.nodes.counter);\n    this.nodes.content.appendChild(this.nodes.mainText);\n    this.nodes.content.appendChild(this.nodes.options);\n    this.nodes.content.appendChild(this.nodes.actions);\n\n    this.nodes.container.appendChild(this.nodes.content);\n\n    /**\n     * Append other tabs if we have DATA.tabs\n     */\n    if (Array.isArray(DATA.tabs)) {\n      DATA.tabs.forEach(({tab, content}) => {\n        if (!content) {\n          return;\n        }\n        let tabContainer = make('div', [Special.CSS.content, Special.CSS.contentHidden], {\n          innerHTML: content,\n          data: {\n            tab\n          }\n        });\n\n        this.nodes.tabs.push(tabContainer);\n        this.nodes.container.appendChild(tabContainer);\n      });\n    }\n\n    /**\n     * Create popup\n     */\n    this.nodes.popup = make('div', Special.CSS.popup);\n    this.nodes.popupContainer = make('div', Special.CSS.popupContainer);\n    this.nodes.popup.appendChild(this.nodes.popupContainer);\n    this.nodes.wrapper.appendChild(this.nodes.popup);\n\n\n    /**\n     * Append all app to the initial container\n     */\n    this.nodes.wrapper.appendChild(this.nodes.container);\n    this.container.appendChild(this.nodes.wrapper);\n\n    this.makeIntro();\n\n    this.container.tabIndex = 1;\n    this.container.addEventListener('keydown', (event) => {\n      this.keydownHandler(event);\n    });\n\n    this.activateTab('main');\n    this.updateMode('start');\n\n    Analytics.sendEvent('Start screen', 'Load');\n\n    // this.preloader.load(DATA.questions[0].options.map(option => this.staticURL + option.img));\n  }\n\n  /**\n   * Creates start screen\n   */\n  makeIntro() {\n    this.nodes.mainText.innerHTML = `\n      <div class=\"${Special.CSS.title}\">\n        <a href=\"${CONFIG.articleUrl}\">\n          ${DATA.title}\n        </a>\n      </div>\n      <div class=\"${Special.CSS.introText}\">\n        ${DATA.intro}\n      </div>\n    `;\n\n    removeChildren(this.nodes.actions);\n    this.makeActionButton('НАЧАТЬ ИГРУ', 'checkUserState');\n  }\n\n  /**\n   * Check user auth and game state\n   */\n  checkUserState() {\n\n    ajax.get({\n      url: `${this.params.apiEndpoint}/start`\n    }).then(\n      /**\n       * Osnova response with user state\n       * @param {object} response\n       * @param {number} response.rc  - code (200)\n       * @param {string} response.rm  - message (successfull)\n       * @param {{active_question: number, answers, is_finished: boolean, result: null}} response.data  - response datas\n       */\n      (response) => {\n        console.log('response', response);\n        if (response.rc === 403){\n          this.showAuth();\n          return;\n        }\n\n        this.activeIndex = response.data.active_question;\n\n        this.makeIntroduction();\n\n      });\n  }\n\n  /**\n   * Creates introduction screen\n   */\n  makeIntroduction(){\n    this.updateMode('introduction');\n    this.nodes.counter.textContent = '— Вступление —';\n    this.nodes.mainText.innerHTML = DATA.introduction;\n\n    removeChildren(this.nodes.actions);\n    this.makeActionButton('ПРИСТУПИТЬ', 'start');\n  }\n\n  /**\n   * Creates a button\n   * @param {string} text - button's text\n   * @param {string} func - name of method that should be triggered by click\n   * @param {string[]} additionalCSS - array of CSS classes for button\n   */\n  makeActionButton(text, func, additionalCSS = []) {\n    let buttonStyle = [ Special.CSS.button ];\n\n    if (Array.isArray(additionalCSS)) {\n      buttonStyle.push(...additionalCSS);\n    }\n\n    let button = make('div', buttonStyle, {\n      type: 'button',\n      data: {\n        click: func\n      }\n    });\n\n    button.textContent = text;\n    this.nodes.actions.appendChild(button);\n  }\n\n  /**\n   * Update game mode\n   * @param {string} name - mode name. For example: \"start\", \"restuls\"\n   */\n  updateMode(name) {\n    this.mode = name;\n    this.nodes.wrapper.dataset.mode = this.mode;\n  }\n\n  /**\n   * Shows first question\n   * Called after click on the START button on intro screen\n   */\n  start() {\n    this.updateMode('progress');\n    this.makeQuestion();\n\n    Analytics.sendEvent('Start button', 'Click');\n  }\n\n  /**\n   * Create question corresponding with current active index\n   */\n  makeQuestion() {\n    /**\n     * @type {question}\n     */\n    let data = DATA.questions[this.activeIndex];\n\n    if (!data) {\n      throw new Error(`Missing data for question #${this.activeIndex} or incorrect index`);\n    }\n\n    removeChildren(this.nodes.options);\n    removeChildren(this.nodes.actions);\n    this.nodes.optionsItems = [];\n\n    this.isPending = false;\n    this.nodes.options.classList.remove(Special.CSS.optionsDisabled);\n\n    this.updateCounter();\n    this.nodes.mainText.innerHTML = `${data.text}`;\n    this.nodes.mainText.appendChild(make('img', [], {\n      src: data.image\n    }));\n\n    this.makeQuestionOptions(data.options);\n\n    if (isMobile()) scrollToElement(this.container);\n\n    Analytics.sendEvent(`Question ${this.activeIndex + 1} screen`, 'Hit');\n\n    // if (DATA.questions[this.activeIndex + 1]) {\n    //   this.preloader.load(DATA.questions[this.activeIndex + 1].options.map(option => this.staticURL + option.img));\n    // }\n  }\n\n  /**\n   * Set current question number to the header counter\n   */\n  updateCounter() {\n    this.nodes.counter.textContent = `— ЗАДАНИЕ ${this.activeIndex + 1} —`;\n  }\n\n  /**\n   * Renders possible answers\n   * @param {option[]} options\n   */\n  makeQuestionOptions(options) {\n    shuffle(options);\n\n    options.forEach(option => {\n      let item = make('div', Special.CSS.optionsItem, {\n        data: {\n          click: 'selectAnswer',\n          id: option.id,\n          number: this.activeIndex\n        },\n        textContent: option.text\n      });\n\n      this.nodes.optionsItems.push(item);\n      this.nodes.options.appendChild(item);\n    });\n  }\n\n  /**\n   * Select answer\n   * @param {Element} button - clicked option\n   */\n  selectAnswer(button) {\n    if (this.isPending) {\n      return;\n    }\n\n    this.nodes.optionsItems.forEach( btn => {\n      btn.classList.remove(Special.CSS.optionsItemSelected);\n    });\n\n    button.classList.add(Special.CSS.optionsItemSelected);\n\n    removeChildren(this.nodes.actions);\n    this.makeActionButton('ПОДТВЕРДИТЬ', 'submitAnswer');\n  }\n\n  /**\n   * Check selected answer\n   * @param {Element} button - clicked 'Confirm' button\n   */\n  submitAnswer(button) {\n    if (this.isPending) {\n      return;\n    }\n\n    let selectedItem = this.nodes.optionsItems.find((item) => item.classList.contains(Special.CSS.optionsItemSelected));\n    let id = parseInt(selectedItem.dataset.id);\n\n    this.isPending = true;\n    this.nodes.options.classList.add(Special.CSS.optionsDisabled);\n    button.classList.add(Special.CSS.buttonDisabled);\n\n    selectedItem.classList.remove(Special.CSS.optionsItemSelected);\n    selectedItem.classList.add(Special.CSS.optionsItemLoading);\n\n    // ajax to check\n    ajax.get({\n      url: `${this.params.apiEndpoint}/check_answer`,\n      data: {\n        question: this.activeIndex,\n        answer: id\n      }\n    })\n      .then(\n        /**\n         * Osnova response\n         * @param {object} response\n         * @param {number} response.rc  - code (200)\n         * @param {string} response.rm  - message (successfull)\n         * @param {{message: string, isCorrect: boolean}} response.data  - response data\n         */\n        (response) => {\n          this.nodes.options.classList.remove(Special.CSS.optionsDisabled);\n          selectedItem.classList.remove(Special.CSS.optionsItemLoading);\n\n          removeChildren(this.nodes.actions);\n\n          if (response && response.rc === 200) {\n            if (response.data.isCorrect) {\n              this.userPoints++;\n              selectedItem.classList.add(Special.CSS.optionsItemCorrect);\n            } else {\n              selectedItem.classList.add(Special.CSS.optionsItemError);\n\n              this.makeActionButton('ЕЩЕ РАЗ', 'restart', [ Special.CSS.buttonSecond ]);\n            }\n\n            /**\n             * Remove other items\n             */\n            this.nodes.optionsItems.filter( item => item !== selectedItem).forEach(item => item.remove());\n\n            /**\n             * Append description\n             */\n            this.makeOptionMessage(response.data.message);\n\n            if (this.activeIndex >= this.totalLength - 1) {\n              this.makeActionButton('ЗАВЕРШИТЬ', 'makeConclusion');\n            } else {\n              this.makeActionButton('ПРОДОЛЖИТЬ', 'makeQuestion');\n            }\n\n            if (!response.data.isCorrect) {\n              this.nodes.actions.appendChild(make('div', Special.CSS.actionsDisclaimer, {\n                innerHTML: 'Дополнительная попытка не засчитывается в финальных результатах. <br> Одна ошибка — в розыгрыше не участвуешь.'\n              }));\n            }\n\n            button.classList.remove(Special.CSS.buttonDisabled);\n\n            this.activeIndex++;\n          } else {\n            console.log('Error while check answer:', response);\n          }\n        })\n      .catch((error) => {\n        console.log('Check answer error', error);\n      });\n  }\n\n  /**\n   * Shows conclusion scene\n   */\n  makeConclusion() {\n    this.updateMode('conclusion');\n    this.nodes.counter.textContent = '— ЗАКЛЮЧЕНИЕ —';\n    this.nodes.mainText.innerHTML = DATA.conclusion;\n\n    removeChildren(this.nodes.options);\n    removeChildren(this.nodes.actions);\n    this.makeActionButton('РЕЗУЛЬТАТЫ', 'makeResult');\n  }\n\n  /**\n   * Show description after answer\n   * @param {string} message - description got from backend\n   */\n  makeOptionMessage(message) {\n    let messageEl = make('div', Special.CSS.optionsMessage, {\n      innerHTML: message\n    });\n\n    this.nodes.options.appendChild(messageEl);\n  }\n\n  /**\n   * Creates results screen\n   */\n  makeResult() {\n    /**\n     * @type {result}\n     */\n    let data = this.findResult();\n\n    this.updateMode('result');\n\n    this.nodes.result = make('div', Special.CSS.result);\n\n    let resultContent = make('div', Special.CSS.resultContent),\n      resultActions = make('div', Special.CSS.resultActions);\n\n    // result.style.backgroundImage = `url(${this.imageUrl(data.cover)})`;\n\n    this.nodes.mainText.innerHTML = DATA.outro;\n    removeChildren(this.nodes.options);\n    removeChildren(this.nodes.actions);\n\n    resultContent.innerHTML = `\n      ${data.message}\n      <p>${data.title}</p>\n    `;\n\n    this.nodes.result.appendChild(resultContent);\n    resultContent.appendChild(resultActions);\n    prepend(this.nodes.content, this.nodes.result);\n\n    Share.create(resultActions, {\n      url: `${CONFIG.share.url}/${this.userPoints}`,\n      twitter: CONFIG.share.twitter\n    });\n\n    this.nodes.resultsButton = make('div', [Special.CSS.button, Special.CSS.buttonSecond], {\n      innerHTML: `${SVG.trophy} РЕЗУЛЬТАТЫ ДРУГИХ ПОЛЬЗОВАТЕЛЕЙ`,\n      data: {\n        click: 'showResultsTable'\n      }\n    });\n\n    this.nodes.result.appendChild(this.nodes.resultsButton);\n\n\n    // this.nodes.actions.appendChild(make('span', Special.CSS.button, {\n    //   textContent: 'ПРОЙТИ ЕЩЕ РАЗ',\n    //   data: {\n    //     click: 'restart'\n    //   }\n    // }));\n    this.nodes.actions.appendChild(make('a', Special.CSS.button, {\n      href: DATA.promoUrl,\n      target: '_blank',\n      textContent: DATA.CTAText\n    }));\n\n    if (isMobile()) scrollToElement(this.container);\n\n    Analytics.sendEvent('Result screen', 'Hit');\n    Analytics.sendEvent(`Result ${this.userPoints} screen`, 'Hit');\n  }\n\n  /**\n   * Get result by users points\n   * @return {result}\n   */\n  findResult() {\n    let results = DATA.results,\n      finalResult = null;\n\n    for (let result of results) {\n      if (this.userPoints >= result.range[0] && this.userPoints <= result.range[1]) {\n        finalResult = result;\n        break;\n      }\n    }\n\n    finalResult.message =`${this.userPoints} из ${this.totalLength} разгаданных шифров`;\n\n    return finalResult;\n  }\n\n  /**\n   * Start game from first question\n   */\n  restart() {\n    this.setDefaultValues();\n    this.updateMode('progress');\n\n    removeChildren(this.nodes.content);\n    this.nodes.content.appendChild(this.nodes.mainText);\n    this.nodes.content.appendChild(this.nodes.options);\n    this.nodes.content.appendChild(this.nodes.actions);\n\n    this.makeQuestion(0);\n\n    Analytics.sendEvent('Restart button', 'Click');\n  }\n\n  /**\n   * Handler for header tab clicks\n   * @param {Element} button - clicked tab\n   */\n  tabClicked(button) {\n    const { tab } = button.dataset;\n\n    this.activateTab(tab);\n  }\n\n  /**\n   * Make specified tab active\n   * @param {string} tab - tab name\n   */\n  activateTab(tab) {\n    this.nodes.container.dataset.tab = tab;\n\n    this.nodes.headerMenuTabs.forEach((item) => {\n      item.classList.toggle(Special.CSS.headerMenuButtonActive, item.dataset.tab === tab);\n    });\n\n    this.nodes.tabs.forEach((tabContainer) => {\n      tabContainer.classList.toggle(Special.CSS.contentHidden, tabContainer.dataset.tab !== tab);\n    });\n  }\n\n  /**\n   * Shows results table\n   */\n  showResultsTable(){\n    this.updateMode('result-table');\n\n    removeElement(this.nodes.result);\n    removeChildren(this.nodes.options);\n    removeChildren(this.nodes.actions);\n    removeChildren(this.nodes.mainText);\n\n    this.nodes.counter.innerHTML = `${SVG.trophy} ТУРНИРНАЯ ТАБЛИЦА`;\n\n    this.nodes.counter.appendChild(make('span', Special.CSS.button, {\n      innerHTML: `${SVG.back} Вернуться`,\n      data: {\n        click: 'makeResult'\n      }\n    }));\n\n    let table = `\n      <table class=\"${ Special.CSS.resultsTable }\">\n        <tr>\n          <th>#</th>\n          <th>Имя</th>\n          <th>Шифры</th>\n        </tr>\n    `;\n\n    let users = [\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n      {name: 'Username Username', points: 7},\n    ];\n\n    users.forEach((user, index) => {\n      table += `\n        <tr>\n          <td>${index + 1}</td>\n          <td>${user.name}</td>\n          <td>${user.points + 1}</td>\n        </tr>\n      `\n    });\n\n    table += '</table>';\n\n\n\n    this.nodes.options.innerHTML = table;\n    this.nodes.actions.innerHTML = `\n      <div class=\"${Special.CSS.resultsTable}-pagination\">\n        <span>1</span> \n        <span>2</span> \n        <span>3</span> \n        <span>4</span> \n      </div>\n    `;\n\n    Analytics.sendEvent('Results table', 'Hit');\n  }\n\n  /**\n   * Shows auth popup\n   */\n  showAuth(){\n    this.showPopup(`\n      <div class=\"${Special.CSS.auth}\">\n        Авторизуйтесь, для <br> участия в розыгрыше\n        <div class=\"${Special.CSS.authButtons}\">\n          <span class=\"vk\" data-click=\"auth\" data-url=\"/auth/vk\">ВКонтакте</span>\n          <span class=\"fb\" data-click=\"auth\" data-url=\"/auth/facebook\">Facebook</span>\n          <br>\n          <span class=\"tw\" data-click=\"auth\" data-url=\"/auth/twitter\">Twitter</span>\n          <span class=\"ggl\" data-click=\"auth\" data-url=\"/auth/googleplus\">Google</span>\n        </div>\n      </div>\n    `);\n  }\n\n  /**\n   * Handle clicks on the auth button\n   * @param {Element} button\n   */\n  auth(button) {\n    const url = button.dataset.url;\n\n    new Auth(url, () => {\n      this.checkUserState();\n    });\n  }\n\n\n  showPopup(content){\n    this.nodes.popupContainer.innerHTML = content += `\n      <span class=\"${Special.CSS.popupClose}\" data-click=\"closePopup\"></span>\n    `;\n\n    this.nodes.popup.classList.add(Special.CSS.popupShowed);\n  }\n\n  closePopup(){\n    this.nodes.popupContainer.innerHTML = '';\n    this.nodes.popup.classList.remove(Special.CSS.popupShowed);\n  }\n\n\n\n\n\n\n\n\n\n\n  keydownHandler(event) {\n    if (event.target === this.container && event.keyCode === this.keyCodes.enter) {\n      if (this.mode === 'start') {\n        this.start();\n      } else if (this.mode === 'progress' && this.isPending) {\n        if (this.activeIndex >= this.totalLength) {\n          this.makeResult();\n        } else {\n          this.makeQuestion();\n        }\n      }\n    }\n  }\n\n\n\n\n\n\n\n\n  /**\n     * Format image URL: add static URL if need\n     * @param {string} url\n     */\n  imageUrl(url) {\n    if (url.substring(0, 4) === 'http') {\n      return url;\n    }\n\n    return this.staticURL + url;\n  }\n}\n\nmodule.exports = Special;","export default {\n  trophy: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"21\" height=\"21\" viewBox=\"0 0 21 21\"><path d=\"M17.5 2.62V0h-14v2.62H0v3.5a4.39 4.39 0 0 0 3.55 4.3 7 7 0 0 0 6.07 6.14v2.69H5.25V21h10.94v-1.75h-4.82v-2.69a7 7 0 0 0 6.08-6.14A4.39 4.39 0 0 0 21 6.12v-3.5zm-14 6a2.62 2.62 0 0 1-1.75-2.5V4.38H3.5zm12.25 1a5.25 5.25 0 1 1-10.5 0V1.75h10.5zm3.5-3.5A2.62 2.62 0 0 1 17.5 8.6V4.38h1.75z\" fill-rule=\"evenodd\"/></svg>',\n  back: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9.56\" height=\"15.98\" viewBox=\"0 0 9.56 15.98\"><path fill-rule=\"evenodd\" d=\"M3.58 7.92l5.89-5.85L7.39 0 0 7.34l.61.6-.61.6 7.46 7.44 2.1-2.1-5.98-5.96z\"/></svg>',\n};"],"sourceRoot":""}